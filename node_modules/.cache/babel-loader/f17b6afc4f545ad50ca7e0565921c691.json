{"ast":null,"code":"import { mapState } from 'vuex';\nexport default {\n  name: 'TractorVINs',\n\n  data() {\n    return {\n      added_vin: ''\n    };\n  },\n\n  computed: { ...mapState({\n      usdot_data: state => state.usdot_data\n    })\n  },\n  methods: {\n    addVIN() {\n      if (this.added_vin.length > 0) {\n        this.usdot_data.vins.push(this.added_vin);\n        this.added_vin = '';\n        this.$store.commit('updateDOTData', this.usdot_data);\n      }\n    },\n\n    removeVIN(vin) {\n      const vin_index = this.usdot_data.vins.indexOf(vin);\n      vin_index > -1 ? this.usdot_data.vins.splice(vin_index, 1) : false;\n    },\n\n    vinLookup(vin) {\n      fetch(`https://vpic.nhtsa.dot.gov/api/vehicles/DecodeVin/${vin}?format=json`).then(response => response.json()).then(function (data) {\n        // console.log(data.Results);\n        // eslint-disable-next-line no-unused-vars\n        // VIN, Model, Make, Model Year,\n        const vin_data = {\n          vin: String,\n          model: String,\n          make: String,\n          year: String\n        };\n        vin_data.model = data.Results.filter(function (el) {\n          return el.Variable = 'Model';\n        }).Value;\n        console.log(vin_data);\n      });\n    }\n\n  },\n\n  mounted() {\n    this.vinLookup('1GNSKCKC0FR198943');\n  }\n\n};","map":{"version":3,"mappings":"AAsBA,SAASA,QAAT,QAAyB,MAAzB;AAEA,eAAe;EACdC,IAAI,EAAE,aADQ;;EAEdC,IAAI,GAAE;IACL,OAAO;MACNC,SAAS,EAAE;IADL,CAAP;EAGA,CANa;;EAOdC,QAAQ,EAAE,EACT,GAAGJ,QAAQ,CAAC;MACXK,UAAU,EAAEC,KAAI,IAAKA,KAAK,CAACD;IADhB,CAAD;EADF,CAPI;EAYdE,OAAO,EAAE;IACRC,MAAM,GAAE;MACP,IAAG,KAAKL,SAAL,CAAeM,MAAf,GAAwB,CAA3B,EAA8B;QAC7B,KAAKJ,UAAL,CAAgBK,IAAhB,CAAqBC,IAArB,CAA0B,KAAKR,SAA/B;QACA,KAAKA,SAAL,GAAiB,EAAjB;QACA,KAAKS,MAAL,CAAYC,MAAZ,CAAmB,eAAnB,EAAoC,KAAKR,UAAzC;MACD;IACA,CAPO;;IAQRS,SAAS,CAACC,GAAD,EAAM;MACd,MAAMC,SAAQ,GAAK,KAAKX,UAAL,CAAgBK,IAAhB,CAAqBO,OAArB,CAA6BF,GAA7B,CAAnB;MACAC,SAAQ,GAAI,CAAC,CAAb,GAAiB,KAAKX,UAAL,CAAgBK,IAAhB,CAAqBQ,MAArB,CAA4BF,SAA5B,EAAuC,CAAvC,CAAjB,GAA6D,KAA7D;IACA,CAXO;;IAYRG,SAAS,CAACJ,GAAD,EAAK;MACbK,KAAK,CAAE,qDAAoDL,GAAI,cAA1D,CAAL,CACCM,IADD,CACMC,QAAO,IAAKA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEM,UAASnB,IAAT,EAAc;QACnB;QACA;QACA;QACA,MAAMsB,QAAO,GAAI;UAChBT,GAAG,EAAEU,MADW;UAEhBC,KAAK,EAAED,MAFS;UAGhBE,IAAI,EAAEF,MAHU;UAIhBG,IAAI,EAAEH;QAJU,CAAjB;QAMAD,QAAQ,CAACE,KAAT,GAAiBxB,IAAI,CAAC2B,OAAL,CAAaC,MAAb,CAAoB,UAASC,EAAT,EAAY;UAChD,OAAOA,EAAE,CAACC,QAAH,GAAc,OAArB;QACA,CAFgB,EAEdC,KAFH;QAGAC,OAAO,CAACC,GAAR,CAAYX,QAAZ;MACA,CAhBD;IAiBD;;EA9BQ,CAZK;;EA4CdY,OAAO,GAAE;IACR,KAAKjB,SAAL,CAAe,mBAAf;EACD;;AA9Cc,CAAf","names":["mapState","name","data","added_vin","computed","usdot_data","state","methods","addVIN","length","vins","push","$store","commit","removeVIN","vin","vin_index","indexOf","splice","vinLookup","fetch","then","response","json","vin_data","String","model","make","year","Results","filter","el","Variable","Value","console","log","mounted"],"sourceRoot":"","sources":["/Users/lukedavid/Desktop/CB/Flywheel/src/views/TractorVINs.vue"],"sourcesContent":["<template>\n\t<Transition appear>\n\t\t<div class=\"tw-card\">\n\t\t\t<h1 class=\"tw-heading\">Tractor VINS</h1>\n\t\t\t<div class=\"max-w-sm m-auto text-left\">\n\t\t\t\t<div class=\"pb-9\">\n\t\t\t\t\t<div class=\"p-4 flex justify-between border-b border-slate-300\" v-for=\"vin in usdot_data.vins\" :key=\"vin\">\n\t\t\t\t\t\t<div class=\"text-lg tracking-wider\">{{vin}}</div>\n\t\t\t\t\t\t<button class=\"bg-red-400 rounded pl-4 pr-4 pt-2 pb-1 text-xs font-medium uppercase text-white\" @click=\"removeVIN(vin)\">Remove</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<label for=\"add_vin\" class=\"mt-4 text-left flex items-center pl-4 pr-4\">\n\t\t\t\t\t\t<input type=\"text\" name=\"add_vin\" id=\"add_vin\" class=\"mr-4\" v-model=\"added_vin\">\n\t\t\t\t\t\t<button class=\"bg-green-400 rounded uppercase text-sm text-white pl-4 pr-4 pt-2 pb-1 whitespace-nowrap\" @click=\"addVIN()\">Add VIN</button>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<button type=\"button\" class=\"tw-btn mt-5 block m-auto\" @click=\"$router.push({name: 'selectPlan'})\">Next</button>\n\t\t\t</div>\n\t\t</div>\n\t</Transition>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n\tname: 'TractorVINs',\n\tdata(){\n\t\treturn {\n\t\t\tadded_vin: ''\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tusdot_data: state => state.usdot_data\n\t\t})\n\t},\n\tmethods: {\n\t\taddVIN(){\n\t\t\tif(this.added_vin.length > 0) {\n\t\t\t\tthis.usdot_data.vins.push(this.added_vin);\n\t\t\t\tthis.added_vin = '';\n\t\t\t\tthis.$store.commit('updateDOTData', this.usdot_data);\n\t\t\t}\t\t\t\t\n\t\t},\n\t\tremoveVIN(vin) {\n\t\t\tconst vin_index =  this.usdot_data.vins.indexOf(vin);\n\t\t\tvin_index > -1 ? this.usdot_data.vins.splice(vin_index, 1) : false;\n\t\t},\n\t\tvinLookup(vin){\n\t\t\tfetch(`https://vpic.nhtsa.dot.gov/api/vehicles/DecodeVin/${vin}?format=json`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(function(data){\n\t\t\t\t// console.log(data.Results);\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t// VIN, Model, Make, Model Year,\n\t\t\t\tconst vin_data = {\n\t\t\t\t\tvin: String,\n\t\t\t\t\tmodel: String,\n\t\t\t\t\tmake: String,\n\t\t\t\t\tyear: String\n\t\t\t\t}\n\t\t\t\tvin_data.model = data.Results.filter(function(el){\n\t\t\t\t\treturn el.Variable = 'Model';\n\t\t\t\t}).Value;\n\t\t\t\tconsole.log(vin_data); \n\t\t\t});\n\t\t}\n\t},\n\tmounted(){\n\t\tthis.vinLookup('1GNSKCKC0FR198943');\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>"]},"metadata":{},"sourceType":"module"}