{"ast":null,"code":"import { mapState } from 'vuex';\nexport default {\n  name: 'SelectPlan',\n  computed: { ...mapState({\n      plan_options: state => state.plan_options,\n      plan_selected: state => state.plan_selected,\n      contact_email: state => state.usdot_data.contactEmail\n    }),\n    show_payment: {\n      get() {\n        return this.$store.show_payment;\n      },\n\n      set(value) {\n        this.$store.commit('updateShowPayment', value);\n      }\n\n    },\n    plan_selected: {\n      get() {\n        return this.$store.state.plan_selected;\n      },\n\n      set(value) {\n        this.$store.commit('updatePlans', value);\n      }\n\n    },\n    route_index: {\n      get() {\n        return this.$store.state.curr_route_index;\n      },\n\n      set(value) {\n        this.$store.commit('updateRouteIndex', value);\n      }\n\n    },\n\n    premium() {\n      const self = this;\n      const selected_deductible = this.plan_options.filter(function (plan) {\n        return plan.deductible.amount === self.plan_selected;\n      });\n      return selected_deductible[0].premium.label;\n    }\n\n  },\n  methods: {\n    setRoutes() {\n      const self = this;\n      const routes = this.$router.getRoutes();\n      let route_index = 0;\n      this.curr_route = this.$router.currentRoute.value;\n      routes.forEach(function (route, index) {\n        if (route.name === self.curr_route.name) {\n          route_index = index;\n        }\n      });\n      this.route_index = route_index;\n    },\n\n    goToSignNow() {\n      console.log(this.contact_email); // window.location = `https://flywheel.giganticdesign.com/signnow/?email=${this.contact_email}&return_uri=${window.location.protocol}//${window.location.host}/payment`;\n    }\n\n  },\n\n  mounted() {\n    this.setRoutes();\n    this.show_payment = false;\n  }\n\n};","map":{"version":3,"mappings":"AAwBA,SAASA,QAAT,QAAyB,MAAzB;AAEA,eAAe;EACdC,IAAI,EAAE,YADQ;EAEdC,QAAQ,EAAE,EACT,GAAGF,QAAQ,CAAC;MACXG,YAAY,EAAEC,KAAI,IAAKA,KAAK,CAACD,YADlB;MAEXE,aAAa,EAAED,KAAI,IAAKA,KAAK,CAACC,aAFnB;MAGXC,aAAa,EAAEF,KAAI,IAAKA,KAAK,CAACG,UAAN,CAAiBC;IAH9B,CAAD,CADF;IAMTC,YAAY,EAAE;MACbC,GAAG,GAAG;QACL,OAAO,KAAKC,MAAL,CAAYF,YAAnB;MACA,CAHY;;MAIbG,GAAG,CAACC,KAAD,EAAQ;QACV,KAAKF,MAAL,CAAYG,MAAZ,CAAmB,mBAAnB,EAAwCD,KAAxC;MACD;;IANa,CANL;IAcTR,aAAa,EAAE;MACdK,GAAG,GAAE;QACJ,OAAO,KAAKC,MAAL,CAAYP,KAAZ,CAAkBC,aAAzB;MACA,CAHa;;MAIdO,GAAG,CAACC,KAAD,EAAO;QACT,KAAKF,MAAL,CAAYG,MAAZ,CAAmB,aAAnB,EAAkCD,KAAlC;MACD;;IANc,CAdN;IAsBTE,WAAW,EAAE;MACZL,GAAG,GAAG;QACL,OAAO,KAAKC,MAAL,CAAYP,KAAZ,CAAkBY,gBAAzB;MACA,CAHW;;MAIZJ,GAAG,CAACC,KAAD,EAAQ;QACV,KAAKF,MAAL,CAAYG,MAAZ,CAAmB,kBAAnB,EAAuCD,KAAvC;MACD;;IANY,CAtBJ;;IA8BTI,OAAO,GAAG;MACT,MAAMC,IAAG,GAAI,IAAb;MACA,MAAMC,mBAAkB,GAAI,KAAKhB,YAAL,CAAkBiB,MAAlB,CAAyB,UAASC,IAAT,EAAc;QAClE,OAAOA,IAAI,CAACC,UAAL,CAAgBC,MAAhB,KAA2BL,IAAI,CAACb,aAAvC;MACA,CAF2B,CAA5B;MAGA,OAAOc,mBAAmB,CAAC,CAAD,CAAnB,CAAuBF,OAAvB,CAA+BO,KAAtC;IACD;;EApCS,CAFI;EAwCdC,OAAO,EAAE;IACRC,SAAS,GAAG;MACX,MAAMR,IAAG,GAAI,IAAb;MACA,MAAMS,MAAK,GAAI,KAAKC,OAAL,CAAaC,SAAb,EAAf;MACA,IAAId,WAAU,GAAI,CAAlB;MAEA,KAAKe,UAAL,GAAkB,KAAKF,OAAL,CAAaG,YAAb,CAA0BlB,KAA5C;MAEAc,MAAM,CAACK,OAAP,CAAe,UAASC,KAAT,EAAgBC,KAAhB,EAAsB;QACpC,IAAGD,KAAK,CAAChC,IAAN,KAAeiB,IAAI,CAACY,UAAL,CAAgB7B,IAAlC,EAAwC;UACvCc,WAAU,GAAImB,KAAd;QACD;MACA,CAJD;MAMA,KAAKnB,WAAL,GAAmBA,WAAnB;IACA,CAfO;;IAgBRoB,WAAW,GAAE;MACZC,OAAO,CAACC,GAAR,CAAY,KAAK/B,aAAjB,EADY,CAEZ;IACD;;EAnBQ,CAxCK;;EA6DdgC,OAAO,GAAE;IACR,KAAKZ,SAAL;IACA,KAAKjB,YAAL,GAAoB,KAApB;EACD;;AAhEc,CAAf","names":["mapState","name","computed","plan_options","state","plan_selected","contact_email","usdot_data","contactEmail","show_payment","get","$store","set","value","commit","route_index","curr_route_index","premium","self","selected_deductible","filter","plan","deductible","amount","label","methods","setRoutes","routes","$router","getRoutes","curr_route","currentRoute","forEach","route","index","goToSignNow","console","log","mounted"],"sourceRoot":"","sources":["/Users/lukedavid/Web/newco/src/views/SelectPlan.vue"],"sourcesContent":["<template>\n\t<Transition appear>\n\t\t<div class=\"tw-card\">\n\t\t\t<h1 class=\"tw-heading\">Select a Plan</h1>\n\t\t\t<div class=\"max-w-sm m-auto text-left\">\n\t\t\t\t<div class=\"flex justify-center mb-10\">\n\t\t\t\t\t<div class=\"w-2/4\">\n\t\t\t\t\t\t<span class=\"text-4xl font-bold\">{{premium}}</span>\n\t\t\t\t\t\t<div class=\"font-bold text-gray-400 text-sm uppercase tracking-wider\">Premium Amount</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"w-2/4\">\n\t\t\t\t\t\t<label class=\"flex items-center mb-2\" v-for=\"plan in plan_options\" :key=\"plan.deductible.label\">\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"deductible\" :value=\"plan.deductible.amount\" v-model=\"plan_selected\">\n\t\t\t\t\t\t\t<div class=\"ml-2\" v-text=\"plan.deductible.label\"></div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button type=\"button\" class=\"tw-btn mt-5 block m-auto\"  @click=\"goToSignNow()\">Next</button>\n\t\t\t</div>\n\t\t</div>\n\t</Transition>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nexport default {\n\tname: 'SelectPlan',\n\tcomputed: {\n\t\t...mapState({\n\t\t\tplan_options: state => state.plan_options,\n\t\t\tplan_selected: state => state.plan_selected,\n\t\t\tcontact_email: state => state.usdot_data.contactEmail\n\t\t}),\n\t\tshow_payment: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.show_payment;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tthis.$store.commit('updateShowPayment', value);\n\t\t\t}\n\t\t},\n\t\tplan_selected: {\n\t\t\tget(){\n\t\t\t\treturn this.$store.state.plan_selected;\n\t\t\t},\n\t\t\tset(value){\n\t\t\t\tthis.$store.commit('updatePlans', value);\n\t\t\t}\n\t\t},\n\t\troute_index: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.state.curr_route_index;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tthis.$store.commit('updateRouteIndex', value);\n\t\t\t}\n\t\t},\n\t\tpremium() {\n\t\t\tconst self = this;\n\t\t\tconst selected_deductible = this.plan_options.filter(function(plan){\n\t\t\t\treturn plan.deductible.amount === self.plan_selected;\n\t\t\t});\n\t\t\treturn selected_deductible[0].premium.label;\n\t\t}\n\t},\n\tmethods: {\n\t\tsetRoutes() {\n\t\t\tconst self = this;\n\t\t\tconst routes = this.$router.getRoutes();\n\t\t\tlet route_index = 0;\n\n\t\t\tthis.curr_route = this.$router.currentRoute.value;\n\t\t\t\t\n\t\t\troutes.forEach(function(route, index){\n\t\t\t\tif(route.name === self.curr_route.name) {\n\t\t\t\t\troute_index = index;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.route_index = route_index;\n\t\t},\n\t\tgoToSignNow(){\n\t\t\tconsole.log(this.contact_email);\n\t\t\t// window.location = `https://flywheel.giganticdesign.com/signnow/?email=${this.contact_email}&return_uri=${window.location.protocol}//${window.location.host}/payment`;\n\t\t}\n\t},\n\tmounted(){\n\t\tthis.setRoutes();\n\t\tthis.show_payment = false;\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]},"metadata":{},"sourceType":"module"}