{"ast":null,"code":"import useVuelidate from '@vuelidate/core';\nimport { minLength } from '@vuelidate/validators';\nimport { mapState } from 'vuex';\nexport default {\n  setup: () => ({\n    v$: useVuelidate()\n  }),\n  name: 'EnterDOT',\n\n  data() {\n    return {\n      dot: '',\n      usdot_lengths: [6, 8],\n      usdot_is_valid: false\n    };\n  },\n\n  validations: {\n    usdot_number: {\n      required: true,\n      $autoDirty: true,\n      maxLength: minLength(6)\n    }\n  },\n  computed: { ...mapState({\n      usdot_number: state => state.usdot_number,\n      page_valid: state => state.page_valid\n    }),\n    usdot_number: {\n      get() {\n        return this.$store.usdot_number;\n      },\n\n      set(value) {\n        this.$store.commit('updateDOTNumber', value);\n      }\n\n    },\n    show_payment: {\n      get() {\n        return this.$store.show_payment;\n      },\n\n      set(value) {\n        this.$store.commit('updateShowPayment', value);\n      }\n\n    }\n  },\n  methods: {\n    async verifyDOTNumber() {\n      // this.getDOTInformation(this.$store.state.usdot_number);\t\n      const isInputValid = await this.v$.$validate();\n      if (!isInputValid) console.log('Input InValid');\n    },\n\n    getDOTInformation(usdot) {\n      const self = this;\n      fetch(`https://mobile.fmcsa.dot.gov/qc/services/carriers/id/${usdot}?webKey=27b663ed331bff071a9f02ba8d726e3558a665aa`).then(response => response.json()).then(function (data) {\n        let obj = data.content; // Temporary Values\n\n        obj.ownerFirstName = \"Jerry\";\n        obj.ownerLastName = \"David\";\n        obj.ownerEmail = \"jd22254@yahoo.com\";\n        obj.ownerPhone = \"563-590-9476\";\n        obj.contactFirstName = \"\";\n        obj.contactLastName = \"\";\n        obj.contactEmail = \"\";\n        obj.contactPhone = \"\";\n        obj.vins = ['3ALXA7005JDJP9024', '3ALXA7007LDMM7204', '3ALXA7009LDMM7205', '3ALXA7004HDHZ1163', '3ALXA7009JDJP9026', '3ALXA7009GDHD7190', '3ALXA7002GDHD7189', '1FVXA7CG1GLHD7202', '1FUJA6CKX6LV85137'];\n        self.$store.commit('updateDOTData', obj);\n      }).then(function () {\n        self.$router.push({\n          name: 'verifyDOT'\n        });\n      });\n    }\n\n  },\n\n  mounted() {\n    this.show_payment = false;\n  }\n\n};","map":{"version":3,"mappings":"AAeA,OAAOA,YAAP,MAAyB,iBAAzB;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAASC,QAAT,QAAyB,MAAzB;AAEA,eAAe;EACdC,KAAK,EAAE,OAAO;IAAEC,EAAE,EAAEJ,YAAY;EAAlB,CAAP,CADO;EAEdK,IAAI,EAAE,UAFQ;;EAGdC,IAAI,GAAG;IACN,OAAO;MACNC,GAAG,EAAE,EADC;MAENC,aAAa,EAAE,CAAC,CAAD,EAAG,CAAH,CAFT;MAGNC,cAAc,EAAE;IAHV,CAAP;EAKA,CATa;;EAUdC,WAAW,EAAE;IACXC,YAAY,EAAE;MACbC,QAAQ,EAAE,IADG;MAEbC,UAAU,EAAE,IAFC;MAGbC,SAAS,EAAEb,SAAS,CAAC,CAAD;IAHP;EADH,CAVC;EAiBdc,QAAQ,EAAE,EACT,GAAGb,QAAQ,CAAC;MACXS,YAAY,EAAEK,KAAI,IAAKA,KAAK,CAACL,YADlB;MAEXM,UAAU,EAAED,KAAI,IAAKA,KAAK,CAACC;IAFhB,CAAD,CADF;IAMTN,YAAY,EAAE;MACbO,GAAG,GAAG;QACL,OAAO,KAAKC,MAAL,CAAYR,YAAnB;MACA,CAHY;;MAIbS,GAAG,CAACC,KAAD,EAAQ;QACV,KAAKF,MAAL,CAAYG,MAAZ,CAAmB,iBAAnB,EAAsCD,KAAtC;MACD;;IANa,CANL;IAcTE,YAAY,EAAE;MACbL,GAAG,GAAG;QACL,OAAO,KAAKC,MAAL,CAAYI,YAAnB;MACA,CAHY;;MAIbH,GAAG,CAACC,KAAD,EAAQ;QACV,KAAKF,MAAL,CAAYG,MAAZ,CAAmB,mBAAnB,EAAwCD,KAAxC;MACD;;IANa;EAdL,CAjBI;EAwCdG,OAAO,EAAE;IACR,MAAMC,eAAN,GAAwB;MACvB;MACA,MAAMC,YAAW,GAAI,MAAM,KAAKtB,EAAL,CAAQuB,SAAR,EAA3B;MACA,IAAG,CAACD,YAAJ,EAAkBE,OAAO,CAACC,GAAR,CAAY,eAAZ;IAClB,CALO;;IAMRC,iBAAiB,CAACC,KAAD,EAAQ;MACxB,MAAMC,IAAG,GAAI,IAAb;MACAC,KAAK,CAAE,wDAAuDF,KAAM,kDAA/D,CAAL,CACCG,IADD,CACMC,QAAO,IAAKA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEM,UAAS5B,IAAT,EAAe;QACpB,IAAI+B,GAAE,GAAI/B,IAAI,CAACgC,OAAf,CADoB,CAGpB;;QACAD,GAAG,CAACE,cAAJ,GAAqB,OAArB;QACAF,GAAG,CAACG,aAAJ,GAAoB,OAApB;QACAH,GAAG,CAACI,UAAJ,GAAiB,mBAAjB;QACAJ,GAAG,CAACK,UAAJ,GAAiB,cAAjB;QACAL,GAAG,CAACM,gBAAJ,GAAuB,EAAvB;QACAN,GAAG,CAACO,eAAJ,GAAsB,EAAtB;QACAP,GAAG,CAACQ,YAAJ,GAAmB,EAAnB;QACAR,GAAG,CAACS,YAAJ,GAAmB,EAAnB;QACAT,GAAG,CAACU,IAAJ,GAAW,CAAC,mBAAD,EAAsB,mBAAtB,EAA2C,mBAA3C,EAAgE,mBAAhE,EAAqF,mBAArF,EAA0G,mBAA1G,EAA+H,mBAA/H,EAAoJ,mBAApJ,EAAyK,mBAAzK,CAAX;QAEAf,IAAI,CAACb,MAAL,CAAYG,MAAZ,CAAmB,eAAnB,EAAoCe,GAApC;MACA,CAjBD,EAkBCH,IAlBD,CAkBM,YAAU;QACfF,IAAI,CAACgB,OAAL,CAAaC,IAAb,CAAkB;UAAC5C,IAAI,EAAE;QAAP,CAAlB;MACA,CApBD;IAqBD;;EA7BQ,CAxCK;;EAuEd6C,OAAO,GAAE;IACR,KAAK3B,YAAL,GAAoB,KAApB;EACD;;AAzEc,CAAf","names":["useVuelidate","minLength","mapState","setup","v$","name","data","dot","usdot_lengths","usdot_is_valid","validations","usdot_number","required","$autoDirty","maxLength","computed","state","page_valid","get","$store","set","value","commit","show_payment","methods","verifyDOTNumber","isInputValid","$validate","console","log","getDOTInformation","usdot","self","fetch","then","response","json","obj","content","ownerFirstName","ownerLastName","ownerEmail","ownerPhone","contactFirstName","contactLastName","contactEmail","contactPhone","vins","$router","push","mounted"],"sourceRoot":"","sources":["/Users/lukedavid/Desktop/CB/Flywheel/src/views/EnterDOT.vue"],"sourcesContent":["<template>\n<Transition appear>\n\t<div class=\"tw-card\">\n\t\t<div class=\"tw-heading\">Let's Get Started!</div>\n\t\t<h1 class=\"mb-8 text-slate-500\">Take a few minutes and get a policy started.</h1>\n\t\t<label for=\"usdot\" class=\"block mb-12 relative\">\n\t\t\t<input type=\"text\" required id=\"usdot\" class=\"text-center w-4/5 text-xl font-light pt-4 pb-4 rounded-2xl\" autocomplete=\"off\" v-model=\"usdot_number\" @keyup.enter=\"verifyDOTNumber\">\n\t\t\t<div class=\"tw-label text-xl font-body font-light left-1/2 -translate-x-1/2\">Enter your DOT Number</div>\n\t\t</label>\n\t\t<button type=\"button\" class=\"tw-btn\" @click=\"verifyDOTNumber\">Get Started</button>\n\t</div>\n</Transition>\n</template>\n\n<script>\nimport useVuelidate from '@vuelidate/core';\nimport { minLength } from '@vuelidate/validators';\nimport { mapState } from 'vuex';\n\nexport default {\n\tsetup: () => ({ v$: useVuelidate() }),\n\tname: 'EnterDOT',\n\tdata() {\n\t\treturn {\n\t\t\tdot: '',\n\t\t\tusdot_lengths: [6,8],\n\t\t\tusdot_is_valid: false\n\t\t}\n\t},\n\tvalidations: {\n\t\t\tusdot_number: { \n\t\t\t\trequired: true,\n\t\t\t\t$autoDirty: true,\n\t\t\t\tmaxLength: minLength(6)\n\t\t\t}\n\t},\t\n\tcomputed: {\n\t\t...mapState({\n\t\t\tusdot_number: state => state.usdot_number,\n\t\t\tpage_valid: state => state.page_valid\n\t\t\t\n\t\t}),\n\t\tusdot_number: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.usdot_number;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tthis.$store.commit('updateDOTNumber', value);\n\t\t\t}\n\t\t},\n\t\tshow_payment: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.show_payment;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tthis.$store.commit('updateShowPayment', value);\n\t\t\t}\n\t\t}\n\t},\t\n\tmethods: {\n\t\tasync verifyDOTNumber() {\n\t\t\t// this.getDOTInformation(this.$store.state.usdot_number);\t\n\t\t\tconst isInputValid = await this.v$.$validate();\t\t\n\t\t\tif(!isInputValid) console.log('Input InValid');\n\t\t},\n\t\tgetDOTInformation(usdot) {\n\t\t\tconst self = this;\n\t\t\tfetch(`https://mobile.fmcsa.dot.gov/qc/services/carriers/id/${usdot}?webKey=27b663ed331bff071a9f02ba8d726e3558a665aa`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(function(data) { \n\t\t\t\tlet obj = data.content;\n\n\t\t\t\t// Temporary Values\n\t\t\t\tobj.ownerFirstName = \"Jerry\";\n\t\t\t\tobj.ownerLastName = \"David\";\n\t\t\t\tobj.ownerEmail = \"jd22254@yahoo.com\";\n\t\t\t\tobj.ownerPhone = \"563-590-9476\";\n\t\t\t\tobj.contactFirstName = \"\";\n\t\t\t\tobj.contactLastName = \"\";\n\t\t\t\tobj.contactEmail = \"\";\n\t\t\t\tobj.contactPhone = \"\";\n\t\t\t\tobj.vins = ['3ALXA7005JDJP9024', '3ALXA7007LDMM7204', '3ALXA7009LDMM7205', '3ALXA7004HDHZ1163', '3ALXA7009JDJP9026', '3ALXA7009GDHD7190', '3ALXA7002GDHD7189', '1FVXA7CG1GLHD7202', '1FUJA6CKX6LV85137'];\n\t\t\t\t\n\t\t\t\tself.$store.commit('updateDOTData', obj);\n\t\t\t})\n\t\t\t.then(function(){\n\t\t\t\tself.$router.push({name: 'verifyDOT'});\n\t\t\t});\n\t\t}\n\t},\n\tmounted(){\n\t\tthis.show_payment = false;\n\t}\n}\n</script>"]},"metadata":{},"sourceType":"module"}